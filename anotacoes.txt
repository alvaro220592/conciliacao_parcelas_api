Devido a uma necessidade futura no meu trabalho, desenvolvi como projeto pessoal uma API pelo Codeigniter(PHP), reproduzindo um cenário próximo ao real, que será disponibilizar um endpoint num sistema existente para receber atualizações de boletos processados no banco.
Essas atualizações vêm em formato JSON com uma lista de boletos e suas respectivas ocorrências.
O objetivo é que com esse endpoint, seja construída uma funcionalidade para ler automaticamente essas notificações, guardá-las no banco de dados e alterar o status de pago/não pago das parcelas referentes aos boletos. Tudo automático. O registro recebido encontra seu boleto no banco de dados(Quadro 3), que encontra sua parcela e a atualiza(Quadro 4).
Então desenvolvi a API em Codeigniter e uma outra aplicação separada com o frontend para simular essa interação com requisições Ajax usando Fetch API. Para a simulação fiz um campo de inserção de arquivo JSON que "imita" de forma manual o envio dos dados para a api(Quadro 1). Ao fazer upload, é mostrada a prévia dos dados ainda no mesmo quadro e ao clicar em "Conciliar", o quadro 2 mostra a atualização em banco de dados da tabela de histórico de registros via webservice, enquanto no quadro 4 é mostrada a atualização do status de pagamento de todas as parcelas que constavam como não pagas e cujas atualizações vieram agora com status de pagas.
A aplicação está bem simples, mas se funcionar na versão real, vai ser um grande avanço pra mim.
